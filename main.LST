C51 COMPILER V9.00   MAIN                                                                  03/18/2016 16:14:07 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main.c LARGE OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /***********************************************************************
   2          * 
   3          * 时    间：2008-10-9
   4          *
   5          * 文 件 名：main.c
   6          *
   7          * 版    本：AKD10P07(发布版)
   8          *
   9          * 作    者：北京爱科迪信息通讯技术有限公司―技术部―杨淳雯
  10          *
  11          * 注    意：上个版本的软件为南京邮电大学研发，特别感谢！
  12          * 
  13          * 功能说明：天线对星主流程
  14          *
  15          ***********************************************************************/
  16          #include "adc.h"
  17          #include "cpu.h"
  18          #include "timer.h"
  19          #include "uart.h"
  20          #include "station.h"
  21          #include "antenna.h"
  22          //#include "XZ_8802.h"
  23          #include "polar.h"
  24          #include "public.h"
  25          
  26          //INT32 tempmin;
  27          //INT32 tempmax;
  28          
  29          int main(void)
  30          {
  31   1      //      UINT16 plorF;
  32   1              CPU020Init();                                                   //MCU初始化
  33   1              ADC0Init();                                                             //ADC初始化
  34   1              Timer0Init();                                                   //timer0初始化
  35   1              Timer2Init();                                                   //timer2初始化
  36   1              Timer3Init();                                                   //timer3初始化
  37   1              Uart0Init();                                                    //串口0初始化
  38   1              Uart1Init();                                                    //串口1初始化
  39   1      
  40   1      
  41   1      //      plorF = 1;                                                                      //极化转动标志，plorF==1转动，plorF==0停止
  42   1              
  43   1              status = INIT;                                                  //天线开始状态为天线初始化
  44   1      
  45   1      //      tempmin = 5000;
  46   1      //      tempmax = -1;
  47   1      //      POLAR_LEFT;
  48   1              
  49   1              while(1)
  50   1              {
  51   2      /*              ;
  52   2                      StationPol = GetComPolA();
  53   2      //              if(PloarAngleStage == 1)
  54   2      //                      plorF++;
  55   2                      while(!plorF)
C51 COMPILER V9.00   MAIN                                                                  03/18/2016 16:14:07 PAGE 2   

  56   2                      {
  57   2                              LEDRED;
  58   2                              Delay(40000);
  59   2                              LEDCLOSE;
  60   2                              Delay(40000);
  61   2                              StationPol = GetComPolA();
  62   2                      }
  63   2                      while(!ELMidLimit)
  64   2                      {
  65   2                              plorF = 0;
  66   2                              POLAR_STOP;
  67   2                              break;
  68   2                      }
  69   2      */
  70   2      
  71   2                      if(status == INIT)
  72   2                      {
  73   3                              AntennaInit();                                  //天线初始化函数
  74   3                      }
  75   2                      if(status == SEARCHREADY)
  76   2                      {
  77   3                              AntennaReadySearch();                   //天线准备搜索函数
  78   3                      }
  79   2                      if(status == SEARCHING)
  80   2                      {
  81   3                              AntennaTimeSearch();                    //天线搜索函数
  82   3                      }
  83   2                      if(status == TRACKING)
  84   2                      {
  85   3                              AntennaTracking();                              //天线跟踪函数
  86   3                      }
  87   2                      if(status == MANUALMODE)
  88   2                      {
  89   3                              AntennaManual();                                //天线手动函数
  90   3                      }
  91   2                      if(status == STORESTATUS)
  92   2                      {
  93   3                              AntennaStore();                                 //天线收藏函数
  94   3                      }
  95   2              
  96   2              }
  97   1              return 0;
  98   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    105    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
